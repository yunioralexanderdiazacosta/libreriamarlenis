<div class="row">
	<div class="col-lg-12">
		<span class="text-secondary h4"><i class="fas fa-key"></i> Cambiar Contraseña</span>
		<ol class="breadcrumb" style="float: right;">
	  		<li class="breadcrumb-item">
	    		<a routerLink="/inicio">
	    			<i class="fas fa-home"></i>
	    		</a>
	  		</li>
	  		<li class="breadcrumb-item active">Actualizar contraseña</li>
		</ol>
		<hr id="linea">
	</div>
</div>

<form [formGroup]="formUsuario" (ngSubmit)="actualizarContrasena()">
	<div class="row mt-3">
		<div class="col-lg-8 offset-lg-2">
			<div class="form-group">
				<label>Contraseña Actual</label>
				<input type="password" 
					formControlName="contrasena_actual" 
					class="form-control" 
					placeholder="Contraseña actual"
					[ngClass]="{ 'is-invalid': f.contrasena_actual.errors && submitted}">

				<div class="invalid-feedback" *ngIf="f.contrasena_actual.errors && submitted">
					<div *ngIf="f.contrasena_actual.errors.required">{{ input_required }}</div>
				</div>
				<small *ngIf="error" class="text-danger">{{ error }}</small>
			</div>
			
			<div class="form-group">
				<label>Nueva contraseña</label>
				<input type="password"
					formControlName="nueva_contrasena" 
					class="form-control"
					placeholder="Nueva Contraseña"
					[ngClass]="{ 'is-invalid': f.nueva_contrasena.errors && submitted}">

				<div class="invalid-feedback" *ngIf="f.nueva_contrasena.errors && submitted">
					<div *ngIf="f.contrasena_actual.errors.required">{{ input_required }}</div>
					<div *ngIf="f.contrasena_actual.errors.minlength"> La contraseña debe contener por lo menos 4 caracteres</div>
				</div>
			</div>

			<div class="form-group">
				<label>Confirmar Contraseña</label>
				<input type="password" 
					formControlName="conf_contrasena"
					class="form-control"
					placeholder="Confirmar contraseña"
					[ngClass]="{ 'is-invalid': f.conf_contrasena.errors && submitted}">

				<div class="invalid-feedback" *ngIf="f.conf_contrasena.errors && submitted">
					<div *ngIf="f.conf_contrasena.errors.required">{{ input_required }}</div>
					 <div *ngIf="f.conf_contrasena.errors.coincidencia"> Las contraseñas ingresadas no coinciden</div>
				</div>
			</div>
			
			<hr>
			<div class="form-group text-right">
				<button type="submit" class="btn btn-primary btn-lg" [disabled]="formUsuario.invalid">
					<i class="fas fa-sync"></i> actualizar
				</button>
			</div>
		</div>
	</div>
</form>